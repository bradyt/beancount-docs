<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Installing Beancount - Beancount Documentation</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">Beancount Documentation</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Index</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Outline <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#">Documentation for Users</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../01_command_line_accounting_in_context/">Command Line Accounting in Context</a>
</li>
            
<li >
    <a href="../02_the_double_entry_counting_method/">The Double Entry Counting Method</a>
</li>
            
<li class="active">
    <a href="./">Installing Beancount</a>
</li>
            
<li >
    <a href="../04_running_beancount_and_generating_reports/">Running Beancount and Generating Reports</a>
</li>
            
<li >
    <a href="../05_getting_started_with_beancount/">Getting Started with Beancount</a>
</li>
            
<li >
    <a href="../06_beancount_language_syntax/">Beancount Language Syntax</a>
</li>
            
<li >
    <a href="../07_beancount_options_reference/">Beancount Options Reference</a>
</li>
            
<li >
    <a href="../08_precision_tolerances/">Precision Tolerances</a>
</li>
            
<li >
    <a href="../09_beancount_query_language/">Beancount Query Language</a>
</li>
            
<li >
    <a href="../10_beancount_cheat_sheet/">Beancount Cheat Sheet</a>
</li>
            
<li >
    <a href="../11_how_inventories_work/">How Inventories Work</a>
</li>
            
<li >
    <a href="../12_exporting_your_portfolio/">Exporting Your Portfolio</a>
</li>
            
<li >
    <a href="../13_tutorial_example/">Tutorial & Example</a>
</li>
            
<li >
    <a href="../14_beancount_history_and_credits/">Beancount History and Credits</a>
</li>
            
<li >
    <a href="../15_a_comparison_of_beancount_and_ledger_hledger/">A Comparison of Beancount and Ledger Hledger</a>
</li>
            
<li >
    <a href="../16_fetching_prices_in_beancount/">Fetching Prices in Beancount</a>
</li>
            
<li >
    <a href="../17_importing_external_data/">Importing External Data</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Cookbooks & Examples</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../18_command_line_accounting_cookbook/">Command Line Accounting Cookbook</a>
</li>
            
<li >
    <a href="../19_trading_with_beancount/">Trading with Beancount</a>
</li>
            
<li >
    <a href="../20_stock_vesting_in_beancount/">Stock Vesting in Beancount</a>
</li>
            
<li >
    <a href="../21_sharing_expenses_with_beancount/">Sharing Expenses with Beancount</a>
</li>
            
<li >
    <a href="../22_how_we_share_expenses/">How We Share Expenses</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Documentation for Developers</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../23_beancount_scripting_plugins/">Beancount Scripting Plugins</a>
</li>
            
<li >
    <a href="../24_beancount_design_doc/">Beancount Design Doc</a>
</li>
            
<li >
    <a href="../25_ledgerhub_design_doc/">Ledgerhub Design Doc</a>
</li>
            
<li >
    <a href="../26_external_contributions/">External Contributions</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#">Enhancement Proposals & Discussions</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../27_a_proposal_for_an_improvement_on_inventory_booking/">A Proposal for an Improvement on Inventory Booking</a>
</li>
            
<li >
    <a href="../28_settlement_dates_in_beancount/">Settlement Dates in Beancount</a>
</li>
            
<li >
    <a href="../29_balance_assertions_in_beancount/">Balance Assertions in Beancount</a>
</li>
            
<li >
    <a href="../30_fund_accounting_with_beancount/">Fund Accounting with Beancount</a>
</li>
            
<li >
    <a href="../31_rounding_precision_in_beancount/">Rounding Precision in Beancount</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../02_the_double_entry_counting_method/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../04_running_beancount_and_generating_reports/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/bradyt/beancount-docs/edit/master/docs/03_installing_beancount.md"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#installing-beancount">Installing Beancount</a></li>
            <li><a href="#releases">Releases</a></li>
            <li><a href="#where-to-get-it">Where to Get It</a></li>
            <li><a href="#how-to-install">How to Install</a></li>
            <li><a href="#editor-support">Editor Support</a></li>
            <li><a href="#if-you-have-problems">If You Have Problems</a></li>
            <li><a href="#post-installation-usage">Post-Installation Usage</a></li>
            <li><a href="#appendix">Appendix</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="installing-beancount">Installing Beancount<a class="headerlink" href="#installing-beancount" title="Permanent link"></a></h1>
<p><a href="mailto:blais@furius.ca"><span class="underline">Martin Blais</span></a> -
Updated: June 2015</p>
<p><a href="http://furius.ca/beancount/doc/install"><span
class="underline">http://furius.ca/beancount/doc/install</span></a></p>
<p><em>Instructions for downloading and installing Beancount on your
computer.</em></p>
<h2 id="releases">Releases<a class="headerlink" href="#releases" title="Permanent link"></a></h2>
<p>Beancount is a mature project: the first version was written in 2008.
The current rewrite of Beancount is stable. (Technically, this is what I
call version 2.x beta).</p>
<p>I’m still working on this Beancount code every weekend these days, so it
is very much in active development and evolving, though the great
majority of the basic features are basically unchanging. I’ve built an
extensive suite of tests so you can consider the “default” branch of the
repository as stable. New features are developed in branches and only
merged in the “default” branch when fully stable (the entire battery of
tests passes without failures). Changes to “default” are posted to the
<a href="https://bitbucket.org/blais/beancount/src/tip/CHANGES"><span
class="underline">CHANGES</span></a>
file and a corresponding email is sent to the <a href="https://groups.google.com/forum/#!forum/beancount"><span
class="underline">mailing-list</span></a>.</p>
<p><strong><em>So I’m not cutting releases yet.</em></strong> You have to install or run from
source. I don’t update the <a href="https://pypi.python.org/pypi/beancount"><span class="underline">PyPI
page</span></a> actively either.</p>
<p>Until development slows down and I decide to bake numbered releases, I
recommend cloning and updating regularly from the bitbucket repository
and building and running in place the “default” branch (if you’re not
familiar with Mercurial, “default” is the default, same as master under
Git).</p>
<h2 id="where-to-get-it">Where to Get It<a class="headerlink" href="#where-to-get-it" title="Permanent link"></a></h2>
<p>This is the official location for the source code:</p>
<pre><code>https://bitbucket.org/blais/beancount/
</code></pre>
<p>Download it like this, by using Mercurial to make a clone on your
machine:</p>
<pre><code>hg clone https://bitbucket.org/blais/beancount
</code></pre>
<p>The author tries to maintain a <a href="http://github.com"><span
class="underline">GitHub</span></a> clone for this
project, but it’s often a bit out-of-date:</p>
<pre><code>git clone https://github.com/beancount/beancount
</code></pre>
<p>Other GitHub clones that can be found in the wild are undoubtedly out of
date. Don’t use them.</p>
<h2 id="how-to-install">How to Install<a class="headerlink" href="#how-to-install" title="Permanent link"></a></h2>
<h3 id="installing-python">Installing Python<a class="headerlink" href="#installing-python" title="Permanent link"></a></h3>
<p>Beancount uses Python 3.5<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> or above, which is a pretty recent version
of Python (as of this writing), and a few common library dependencies. I
try to minimize dependencies, but you do have to install a few. This is
very easy.</p>
<p>First, you should have a working Python install. Install the latest
stable version &gt;=3.5 using the download from <a href="http://python.org"><span
class="underline">python.org</span></a>. Make sure you
have the development headers and libraries installed as well (e.g., the
“Python.h” header file). For example, on a Debian/Ubuntu system you
would install the <strong>python3-dev</strong> package.</p>
<p>Beancount supports setuptools since Feb 2016, and you will need to
install dependencies. You will want to have the “pip3” tool installed.
It’s probably installed by default along with Python3—test this out by
invoking “pip3” command. In any case, under a Debian/Ubuntu system you
would simply install the <strong>python3-pip</strong> package.</p>
<pre><code>Note for Arch Linux: Arch’s Python package does not correctly install all of its runtime dependencies. With the Python installation that comes with it, you have to install the “mpdecimal” package in order for the C decimal implementation to work. See this issue for a discussion. Others say easiest might just be to use the AUR package, which installs all the required dependencies.
</code></pre>
<h4 id="python-dependencies">Python Dependencies<a class="headerlink" href="#python-dependencies" title="Permanent link"></a></h4>
<p>Note that in order to build a full working Python install from source,
you will probably need to install a host of other development libraries
and their corresponding header files, e.g., libxml2, libxslt1, libgdbm,
libmp, libssl, etc. Installing those is dependent on your particular
distribution and/or OS. Just make sure that your Python installation has
all the basic modules compiled for its default configuration.</p>
<h3 id="installing-beancount-using-pip">Installing Beancount using pip<a class="headerlink" href="#installing-beancount-using-pip" title="Permanent link"></a></h3>
<p>This is the easiest way to install Beancount. You just install Beancount
using</p>
<pre><code>sudo pip3 install beancount
</code></pre>
<p>This should automatically download and install all the dependencies.</p>
<p>Note, however, that this will install the latest version that was pushed
to the <a href="https://pypi.python.org/pypi/beancount/"><span class="underline">PyPI
repository</span></a> and not the
very latest version available from source. Releases to PyPI are made
sporadically but frequently enough not to be too far behind. Consult the
<a href="https://bitbucket.org/blais/beancount/src/tip/CHANGES"><span class="underline">CHANGES
file</span></a> if
you’d like to find out what is not included since the release date.</p>
<h3 id="installing-beancount-from-source">Installing Beancount from Source<a class="headerlink" href="#installing-beancount-from-source" title="Permanent link"></a></h3>
<p>Installing from source offers the advantage of providing you with the
very latest version of the stable branch (“default”). The default branch
is as stable as the released version.</p>
<h4 id="obtain-the-source-code">Obtain the Source Code<a class="headerlink" href="#obtain-the-source-code" title="Permanent link"></a></h4>
<p>Get the source code from the official repository:</p>
<pre><code>hg clone https://bitbucket.org/blais/beancount
</code></pre>
<h4 id="install-third-party-dependencies">Install third-party dependencies<a class="headerlink" href="#install-third-party-dependencies" title="Permanent link"></a></h4>
<p>You might need to install some non-Python library dependencies, such as
libxml2-dev, libxslt1-dev, and perhaps a few more. Try to build, it
should be obvious what’s missing. If on Ubuntu, use apt-get.</p>
<p>If installing on Windows, see the Windows section below.</p>
<h4 id="install-beancount-from-source-using-pip3">Install Beancount from source using pip3<a class="headerlink" href="#install-beancount-from-source-using-pip3" title="Permanent link"></a></h4>
<p>You can then install all the dependencies and Beancount itself using
pip:</p>
<pre><code>cd beancount
sudo pip3 install .
</code></pre>
<h4 id="install-beancount-from-source-using-setuppy">Install Beancount from source using setup.py<a class="headerlink" href="#install-beancount-from-source-using-setuppy" title="Permanent link"></a></h4>
<p>First you’ll need to install dependent libraries. You can do this using
pip:</p>
<pre><code>pip3 install python-dateutil bottle ply lxml python-magic beautifulsoup4
</code></pre>
<p>Or equivalently, you may be able to do that using your distribution,
e.g., on Ubuntu/Debian:</p>
<pre><code>sudo apt-get install python3-dateutil python3-bottle python3-ply python3-lxml python3-bs4 …
</code></pre>
<p>Then, you can install the package in your Python library using the usual
setup.py invocation:</p>
<pre><code>cd beancount
sudo python3 setup.py install
</code></pre>
<p>Or you can install the package in your user-local Python library using
this:</p>
<pre><code>sudo python3 setup.py install --user
</code></pre>
<p>Remember to add ~/.local/bin to your path to access the local install.</p>
<h4 id="installing-for-development">Installing for Development<a class="headerlink" href="#installing-for-development" title="Permanent link"></a></h4>
<p>If you want to execute the source in-place for making changes to it, you
can use the setuptools “develop” command to point to it:</p>
<pre><code>cd beancount
sudo python3 setup.py develop
</code></pre>
<p>Warning: This modifies a .pth file in your Python installation to point
to the path to your clone. You may or may not want this.</p>
<p>The way I work myself is <em>old-school</em>; I build it locally and setup my
environment to find its libraries. You build it like this:</p>
<pre><code>cd beancount
python3 setup.py build_ext -i
</code></pre>
<p>Finally, both the PATH and PYTHONPATH environment variables need to be
updated for it:</p>
<pre><code>export PATH=$PATH:/path/to/beancount/bin
export PYTHONPATH=$PYTHONPATH:/path/to/beancount
</code></pre>
<h3 id="installing-from-packages">Installing from Packages<a class="headerlink" href="#installing-from-packages" title="Permanent link"></a></h3>
<p>Various distributions may package Beancount. Here are links to those
known to exist:</p>
<ul>
<li>Arch: <a href="https://aur.archlinux.org/packages/beancount/"><span
    class="underline">https://aur.archlinux.org/packages/beancount/</span></a></li>
</ul>
<h3 id="windows-installation">Windows Installation<a class="headerlink" href="#windows-installation" title="Permanent link"></a></h3>
<h4 id="native">Native<a class="headerlink" href="#native" title="Permanent link"></a></h4>
<p>Installing this package by pip requires compiling some C++ code during
the installation procedure which is only possible if an appropriate
compiler is available on the computer, otherwise you will receive an
error message about missing <em>vsvarsall.bat</em> or <em>cl.exe</em>.</p>
<p>To be able to compile C++ code for Python you will need to install the
same major version of the C++ compiler as your Python installation was
compiled with. By running <em>python</em> in a console and looking for a text
similar to <em>[MSC v.1900 64 bit (AMD64)]</em> you can determine which
compiler was used for your particular Python distribution. In this
example it is <em>v.1900</em>.</p>
<p>Using this number find the required Visual C++ version <a href="https://stackoverflow.com/questions/2676763/what-version-of-visual-studio-is-python-on-my-computer-compiled-with"><span
class="underline">here</span></a>.
Since different versions seem to be compatible as long as the first two
digits are the same you can in theory use any Visual C++ compiler
between 1900 and 1999.</p>
<p>According to my experience both Python 3.5 and 3.6 was compiled with MSC
v.1900 so you can do either of the following to satisfy this
requirement:</p>
<ul>
<li>
<p>Install the standalone <a href="https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/?sku=BuildTools&amp;rel=15"><span class="underline">Build Tools for
    Visual Studio
    2017</span></a>
    or</p>
</li>
<li>
<p>Install the standalone <a href="http://go.microsoft.com/fwlink/?LinkId=691126"><span class="underline">Visual C++ Build
    Tools 2015</span></a> or</p>
</li>
<li>
<p>Modify an existing Visual Studio 2017 installation</p>
<ul>
<li>
<p>Start the Visual Studio 2017 installer from <em>Add or remove
    programs</em></p>
</li>
<li>
<p>Select <em>Individual components</em></p>
</li>
<li>
<p>Check <em>VC++ 2017 version 15.9 v14.16 latest v141 tools</em> or newer
    under <em>Compilers, build tools, and runtimes</em></p>
</li>
<li>
<p>Install</p>
</li>
</ul>
</li>
<li>
<p>Visual Studio 2019</p>
<ul>
<li>add C++ build tools: C++ core features, MSVC v142 build tools</li>
</ul>
</li>
</ul>
<p>If cl.exe is not in your path after installation, run Developer Command
Prompt for Visual Studio and run the commands there.</p>
<h4 id="with-cygwin">With Cygwin<a class="headerlink" href="#with-cygwin" title="Permanent link"></a></h4>
<p>Windows installation is, of course, a bit different. It’s a breeze if
you use Cygwin. You just have to prep your machine first. Here’s how.</p>
<ul>
<li>
<p>Install the latest <a href="https://www.cygwin.com/"><span
    class="underline">Cygwin</span></a>. This may
    take a while (it downloads a lot of stuff), but it is well worth it
    in any case. But before you kick off the install, make sure the
    following packages are all manually enabled in the interface
    provided by setup.exe (they’re not selected by default):</p>
<ul>
<li>
<p>python3</p>
</li>
<li>
<p>python3-devel</p>
</li>
<li>
<p>python3-setuptools</p>
</li>
<li>
<p>mercurial</p>
</li>
<li>
<p>make</p>
</li>
<li>
<p>gcc-core</p>
</li>
<li>
<p>flex</p>
</li>
<li>
<p>bison</p>
</li>
<li>
<p>lxml</p>
</li>
<li>
<p>ply</p>
</li>
</ul>
</li>
<li>
<p>Start a new Cygwin bash shell (there should be a new icon on your
    desktop) and install the pip3 installer tool by running this
    command:<br />
<strong>easy_install-3.4 pip<br />
</strong>Make sure you invoke the version of easy_install which matches
    your Python version, e.g. easy_install-3.5 if you have Python 3.5
    installed, or more.</p>
</li>
</ul>
<p>At this point, you should be able to follow the instructions from the
previous sections as is, starting from “Install Beancount using pip”.</p>
<h4 id="with-wsl">With WSL<a class="headerlink" href="#with-wsl" title="Permanent link"></a></h4>
<p>The newly released Windows 10 Anniversary Update brings WSL 'Windows
Subsystem for Linux' with <a href="https://blogs.msdn.microsoft.com/wsl/2016/07/08/bash-on-ubuntu-on-windows-10-anniversary-update/"><span class="underline">bash on Ubuntu on
Windows</span></a>
(installation instructions and more at <a href="https://msdn.microsoft.com/commandline/wsl/about"><span
class="underline">https://msdn.microsoft.com/commandline/wsl/about</span></a>).</p>
<p>This makes beancount installation easy, from bash:</p>
<pre><code>sudo apt-get install python3-pip
sudo apt-get install python3-lxml
sudo pip3 install m3-cdecimal
sudo pip3 install beancount --pre
</code></pre>
<p>This is not totally “Windows compatible”, as it is running in a
pico-process, but provides a convenient way to get the Linux
command-line experience on Windows. <em>(Contrib: willwray)</em></p>
<h4 id="notes-on-lxml">Notes on lxml<a class="headerlink" href="#notes-on-lxml" title="Permanent link"></a></h4>
<p>Some users have reported problems installing lxml, and a solution: when
installing lxml with pip (under Cygwin), using this may help:</p>
<pre><code>STATIC_DEPS=true pip install lxml
</code></pre>
<h3 id="checking-your-install">Checking your Install<a class="headerlink" href="#checking-your-install" title="Permanent link"></a></h3>
<p>You should be able to run the binaries from <a href="../04_running_beancount_and_generating_reports/"><span
class="underline">this
document</span></a>. For
example, running bean-check should produce something like this:</p>
<pre><code>$ bean-check

usage: bean-check [-h] [-v] filename
bean-check: error: the following arguments are required: filename
</code></pre>
<p>If this works, you can now go to the <a href="../13_tutorial_example/"><span
class="underline">tutorial</span></a> and begin
learning how Beancount works.</p>
<h3 id="reporting-problems">Reporting Problems<a class="headerlink" href="#reporting-problems" title="Permanent link"></a></h3>
<p>If you need to report a problem, either send email on the mailing-list
or <a href="https://bitbucket.org/blais/beancount/issues"><span class="underline">file a
ticket</span></a> on
Bitbucket. Running the following command lists the presence and versions
of dependencies installed on your computer and it might be useful to
include the output of this command in your bug report:</p>
<pre><code>bean-doctor checkdeps
</code></pre>
<h2 id="editor-support">Editor Support<a class="headerlink" href="#editor-support" title="Permanent link"></a></h2>
<p>There is support for some editors available:</p>
<ul>
<li>
<p>Emacs support is <a href="https://bitbucket.org/blais/beancount/src/tip/src/elisp/"><span class="underline">provided in the
    distribution</span></a>.
    See the <a href="../05_getting_started_with_beancount/"><span class="underline">Getting
    Started</span></a> text for
    installation instruction.</p>
</li>
<li>
<p>Support for <a href="https://sublime.wbond.net/packages/Beancount"><span class="underline">editing with
    Sublime</span></a> has
    been contributed by <a href="https://groups.google.com/d/msg/beancount/WvlhcCjNl-Q/s4wOBQnRVxYJ"><span class="underline">Martin Andreas
    Andersen</span></a>.
    See <a href="https://github.com/draug3n/sublime-beancount"><span class="underline">his github
    repo</span></a>.</p>
</li>
<li>
<p>Support for editing with Vim has been contributed by <a href="https://github.com/nathangrigg"><span
    class="underline">Nathan
    Grigg</span></a>. See <a href="https://github.com/nathangrigg/vim-beancount"><span
    class="underline">his GitHub
    repo</span></a>.</p>
</li>
<li>
<p>Visual Studio Code currently has two extensions available. Both have
    been tested on Linux.</p>
<ul>
<li>
<p><a href="https://marketplace.visualstudio.com/items?itemName=Lencerf.beancount"><span
    class="underline">Beancount</span></a>,
    with syntax checking (bean-check) and support for accounts,
    currencies, etc. It not only allows selecting existing open
    accounts but also displays their balance and other metadata.
    Quite helpful!</p>
</li>
<li>
<p><a href="https://marketplace.visualstudio.com/items?itemName=dongfg.vscode-beancount-formatter"><span class="underline">Beancount
    Formatter</span></a>,
    which can format the whole document, aligning the numbers, etc.
    using bean-format.</p>
</li>
</ul>
</li>
</ul>
<h2 id="if-you-have-problems">If You Have Problems<a class="headerlink" href="#if-you-have-problems" title="Permanent link"></a></h2>
<p>If you run into any installation problems, <a href="https://bitbucket.org/blais/beancount/issues"><span class="underline">file
a ticket</span></a>, <a href="mailto:blais@furius.ca"><span
class="underline">email me</span></a>, or hit the
<a href="https://groups.google.com/forum/#!forum/beancount"><span
class="underline">mailing-list</span></a>.</p>
<h2 id="post-installation-usage">Post-Installation Usage<a class="headerlink" href="#post-installation-usage" title="Permanent link"></a></h2>
<p>Normally the <a href="https://bitbucket.org/blais/beancount/src/tip/bin/"><span class="underline">scripts located under
beancount/bin</span></a>
should be automatically installed somewhere in your executable path. For
example, you should be able to just run “bean-check” on the
command-line.</p>
<h2 id="appendix">Appendix<a class="headerlink" href="#appendix" title="Permanent link"></a></h2>
<p><strong>If everything worked, you can stop reading here.</strong> Here I just discuss
the various dependencies and why you need them (or why you don’t, some
of them are optional). This is of interest to developers and some of
this info might help troubleshoot problems if you encounter any.</p>
<h3 id="notes-on-dependencies">Notes on Dependencies<a class="headerlink" href="#notes-on-dependencies" title="Permanent link"></a></h3>
<h4 id="python-35-or-greater">Python 3.5 or greater<a class="headerlink" href="#python-35-or-greater" title="Permanent link"></a></h4>
<p>Python 3.5 is widely available at this point, released more than a year
ago. However, my experience with open source distribution tells me that
a lot of users are running on old machines that won’t be upgraded for a
while. So for those users, you might have to install your own Python…
don’t worry, installing Python manually is pretty straightforward.</p>
<p>On Mac, it can also be installed with one of the various package
management suits, like Brew, e.g., with “brew install python3”.</p>
<p>On an old Linux, download the source from <a href="https://www.python.org/downloads/"><span
class="underline">python.org</span></a>,
and then build it like this:</p>
<pre><code>tar zxcf Python-3.5.2.tgz
cd Python-3.5.2
./configure
make
sudo make install
</code></pre>
<p>This should just work. I recommend you install the latest 3.x release
(3.5.2 at the time of this writing).</p>
<p>Note: The reason I require at least version 3.5 is because the cdecimal
library which supplies Beancount with its implementation of a Decimal
representation has been added to the standard library. We need this
library to represent all our numbers. Also, Beancount uses the “typing”
type annotations which are included in 3.5 (note: You may be able to
install “typing” explicitly if you use an older version; no guarantees
however).</p>
<p>Some users have reported that there are distributions which package the
cdecimal support for Python3 separately. This is the case for Arch, and
I’ve witnessed missing cdecimal support in some Ubuntu installs as well.
A check has been inserted into Beancount in December 2015 for this, and
a warning should be issued if your Python installation does not have
fast decimal numbers. If you are in such a situation, you can try to
install cdecimal explicitly, like this:</p>
<pre><code>sudo pip3 install m3-cdecimal
</code></pre>
<p>and Beancount will then use it.</p>
<h4 id="python-libraries">Python Libraries<a class="headerlink" href="#python-libraries" title="Permanent link"></a></h4>
<p>If you need to install Python libraries, there are a few different ways.
First, there is the easy way: there is a package management tool called
“pip3” (or just “pip” for version 2 of Python) and you install libraries
like this:</p>
<pre><code>sudo pip3 install &lt;library-name&gt;
</code></pre>
<p>Installing libraries from their source code is also pretty easy:
download and unzip the source code, and then run this command from its
root directory:</p>
<pre><code>sudo python3 setup.py install
</code></pre>
<h4 id="just-make-sure-the-python3-executable-you-run-when-you-do-that-is-the-same-one-you-will-use-to-run-beancount">Just make sure the “python3” executable you run when you do that is the same one you will use to run Beancount.<a class="headerlink" href="#just-make-sure-the-python3-executable-you-run-when-you-do-that-is-the-same-one-you-will-use-to-run-beancount" title="Permanent link"></a></h4>
<h4 id="here-are-the-libraries-beancount-depends-on-and-a-short-discussion-of-why">Here are the libraries Beancount depends on and a short discussion of why.<a class="headerlink" href="#here-are-the-libraries-beancount-depends-on-and-a-short-discussion-of-why" title="Permanent link"></a></h4>
<h5 id="python-dateutil">python-dateutil<a class="headerlink" href="#python-dateutil" title="Permanent link"></a></h5>
<p>This library provides Beancount with the ability to parse dates in
various formats, it is very convenient for users to have flexible
options on the command-line and in the SQL shell.</p>
<h5 id="bottle">bottle<a class="headerlink" href="#bottle" title="Permanent link"></a></h5>
<p>The Beancount web interface (invoked via bean-web) runs a little
self-contained web server accessible locally on your machine. This is
implemented using a tiny library that makes it easy to implement such
web applications: <a href="http://bottlepy.org/"><span
class="underline">bottle.py</span></a>.</p>
<h5 id="ply">ply<a class="headerlink" href="#ply" title="Permanent link"></a></h5>
<p>The query client (bean-query) which is used to extract data tables from
a ledger file depends on a parser generator: I use Dave Beazley’s
popular <a href="http://www.dabeaz.com/ply/"><span class="underline">PLY</span></a>
library (version 3.4 or above) because it makes it really easy to
implement a custom SQL language parser.</p>
<h5 id="lxml">lxml<a class="headerlink" href="#lxml" title="Permanent link"></a></h5>
<h5 id="a-tool-is-provided-to-bake-a-static-html-version-of-the-web-interface-to-a-zip-file-bean-bake-this-is-convenient-to-share-files-with-an-accountant-who-may-not-have-your-software-installed-the-web-scraping-code-that-is-used-to-do-that-used-the-lxml-html-parsing-library">A tool is provided to bake a static HTML version of the web interface to a zip file (bean-bake). This is convenient to share files with an accountant who may not have your software installed. The web scraping code that is used to do that used the lxml HTML parsing library.<a class="headerlink" href="#a-tool-is-provided-to-bake-a-static-html-version-of-the-web-interface-to-a-zip-file-bean-bake-this-is-convenient-to-share-files-with-an-accountant-who-may-not-have-your-software-installed-the-web-scraping-code-that-is-used-to-do-that-used-the-lxml-html-parsing-library" title="Permanent link"></a></h5>
<h4 id="python-libraries-for-export-optional">Python Libraries for Export (optional)<a class="headerlink" href="#python-libraries-for-export-optional" title="Permanent link"></a></h4>
<h5 id="google-api-python-client">google-api-python-client<a class="headerlink" href="#google-api-python-client" title="Permanent link"></a></h5>
<p>Some of the scripts I use to export outputs to Google Drive (as well as
scripts to maintain and download documentation from it) are checked into
the codebase. You don’t have to install these libraries if you’re not
exporting to Google Drive; everything else should work fine without
them. These are thus optional.</p>
<p>If you do install this library, it require recent (as of June 2015)
installs of</p>
<ul>
<li>
<p><a href="https://github.com/google/google-api-python-client"><span
    class="underline">google-api-python-client</span></a>:
    A Python client library for Google's discovery based APIs.</p>
</li>
<li>
<p><a href="https://github.com/google/oauth2client"><span
    class="underline">oauth2client</span></a>:
    This is a client library for accessing resources protected by OAuth
    2.0, used by the Google API Python client library.</p>
</li>
<li>
<p><a href="https://github.com/jcgregorio/httplib2"><span
    class="underline">httplib2</span></a>:
    A comprehensive HTTP client library. This is used by oauth2client.</p>
</li>
</ul>
<p>These are best installed using the pip3 tool.</p>
<p>Update: as of 2016, you should be able to install all of the above like
this:</p>
<pre><code>pip3 install google-api-python-client
</code></pre>
<p><strong>IMPORTANT:</strong> The support for Python3 is fairly recent, and if you have
an old install you might experience some failures, e.g. with missing
dependencies, such as a missing “gflags” import. Please install those
from recent releases and you should be fine. You can install them
manually.</p>
<h4 id="python-libraries-for-imports-optional">Python Libraries for Imports (Optional)<a class="headerlink" href="#python-libraries-for-imports-optional" title="Permanent link"></a></h4>
<p>Support for importing identifying, extracting and filing transactions
from externally downloaded files is built into Beancount. (This used to
be in the LedgerHub project, which has been deprecated.) If you don’t
take advantage of those importing tools and libraries, you don’t need
these imports.</p>
<h5 id="python-magic-optional">python-magic (optional)<a class="headerlink" href="#python-magic-optional" title="Permanent link"></a></h5>
<p>Beancount attempt to identify the types of files using the stdlib
“mimetypes” module and some local heuristics for types which aren’t
supported, but in addition, it is also useful to install libmagic, which
it will use if it is not present:</p>
<pre><code>pip3 install python-magic
</code></pre>
<p>Note that there exists another, older library which provides libmagic
support called “filemagic”. You need “python-magic” and not “filemagic.”
More confusingly, under Debian the “python-magic” library is called
“filemagic.”</p>
<h5 id="other-tools">Other Tools<a class="headerlink" href="#other-tools" title="Permanent link"></a></h5>
<p>It is expected that the user will build their own importers. However,
Beancount will provide some modules to help you invoke various external
tools. The dependencies you need for these depends on which tool you’ve
configured your importer to use.</p>
<h4 id="virtualenv-installation">Virtualenv Installation<a class="headerlink" href="#virtualenv-installation" title="Permanent link"></a></h4>
<p>If you’d like to use virtualenv, you can try this (suggestion by Remy
X). First install Python 3.5 or beyond<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>:</p>
<pre><code>sudo add-apt-repository ppa:fkrull/deadsnakes
sudo apt-get update
sudo apt-get install python3.5
sudo apt-get install python3.5-dev
sudo apt-get install libncurses5-dev
</code></pre>
<p>Then install and activate virtualenv:</p>
<pre><code>sudo apt-get install virtualenv
virtualenv -p /usr/bin/python3.5 bean
source bean/bin/activate
pip install package-name
sudo apt-get install libz-dev  # For lxml to build
pip install lxml
pip install beancount
</code></pre>
<h3 id="development-setup">Development Setup<a class="headerlink" href="#development-setup" title="Permanent link"></a></h3>
<h4 id="installation-for-development">Installation for Development<a class="headerlink" href="#installation-for-development" title="Permanent link"></a></h4>
<p>For development, you will want to avoid installing Beancount in your
Python distribution and instead just modify your PYTHONPATH environment
variable to run it from source:</p>
<pre><code>export PYTHONPATH=/path/to/install/of/beancount
</code></pre>
<p>Beancount has a few compiled C extension modules. This is just portable
C code and should work everywhere. For development, you want to compile
the C modules in-place, within the source code, and load them from
there. Build the C extension module in-place like this:</p>
<pre><code>python3 setup.py build_ext -i
</code></pre>
<p>Or equivalently, the root directory has a Makefile that does the same
thing and that will rebuild the C code for the lexer and parser if
needed (you need flex and bison installed for this):</p>
<pre><code>make build
</code></pre>
<p>With this, you should be able to run the executables under the bin/
subdirectory. You may want to add this to your PATH as well.</p>
<h4 id="dependencies-for-development">Dependencies for Development<a class="headerlink" href="#dependencies-for-development" title="Permanent link"></a></h4>
<p>Beancount needs a few more tools for development. If you’re reading
this, you’re a developer, so I’ll assume you can figure out how to
install packages, skip the detail, and just list what you might need:</p>
<ul>
<li>
<p><a href="https://pypi.python.org/pypi/nose/"><strong><span
    class="underline">nosetests</span></strong></a>
    (<strong>nose</strong>, or <strong>python3-nose</strong>): This is the test driver to use for
    running all the unit tests. You definitely need this.</p>
</li>
<li>
<p><a href="https://www.gnu.org/software/flex/"><strong><span class="underline">GNU
    flex</span></strong></a>: This lexer
    generator is needed if you intend to modify the lexer. It generated
    C code that chops up the input files into tokens for the parser to
    consume.</p>
</li>
<li>
<p><a href="http://www.gnu.org/software/bison/"><strong><span class="underline">GNU
    bison</span></strong></a>: This old-school
    parser generator is needed if you intend to modify the grammar. It
    generates C code that parses the tokens generated by flex. (I like
    using old tools like this because they are pretty low on
    dependencies, just C code. It should work everywhere.)</p>
</li>
<li>
<p><a href="http://www.gnu.org/software/tar/"><strong><span class="underline">GNU
    tar</span></strong></a>: You need this to
    test the archival capabilities of bean-bake.</p>
</li>
<li>
<p><a href="http://www.info-zip.org/"><strong><span class="underline">InfoZIP
    zip</span></strong></a> (comes with Ubuntu): You
    need this to test the archival capabilities of bean-bake.</p>
</li>
<li>
<p><a href="http://lxml.de"><strong><span class="underline">lxml</span></strong></a>: This XML
    parsing library is used in the web tests. (Unfortunately, the
    built-in one fails to parse large XML files.)</p>
</li>
<li>
<p><a href="http://www.pylint.org/"><strong><span
    class="underline">pylint</span></strong></a> &gt;=
    1.2: I’m running all the source code through this linter. If you
    contribute code with the intent of it being integrated and released,
    it has to pass the linter tests (or I’ll have to make it pass
    myself).</p>
</li>
<li>
<p><a href="https://github.com/pyflakes/pyflakes"><strong><span
    class="underline">pyflakes</span></strong></a>:
    I’m running all the source code through this logical error detector.
    If you contribute code with the intent of it being integrated and
    released, it has to pass those tests (or I’ll have to make it pass
    myself).</p>
</li>
<li>
<p><a href="http://furius.ca/snakefood/"><strong><span
    class="underline">snakefood</span></strong></a>:
    I use snakefood to analyze the dependencies between the modules and
    enforce some ordering, e.g. core cannot import from plugins, for
    example. There’s a target to run it from the root Makefile.</p>
</li>
<li>
<p><a href="http://www.graphviz.org/"><strong><span
    class="underline">graphviz</span></strong></a>: The
    dependency tree of all the modules is generated by snakefood but
    graphed by the graphviz tool. You need to install it if you want to
    look at dependencies.</p>
</li>
</ul>
<p>I think that’s about it. You certainly don’t need <em>everything</em> above,
but that’s the list of tools I use. If you find anything missing, please
leave a comment, I may have missed something.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Some people have <a href="https://www.google.com/url?q=https://groups.google.com/d/msgid/beancount/51fec791-1c38-46e8-b152-08c49e7686c3%2540googlegroups.com?utm_medium%3Demail%26utm_source%3Dfooter&amp;sa=D&amp;ust=1461188801128000&amp;usg=AFQjCNH8StkxqPYKLKMhir6YAz6rXCOKsQ"><span
class="underline">reported</span></a>
bugs with the cdecimal library in 3.4. I would recommend actually
installing 3.5, which appears to have fixed the problem.
Technically, 3.3 will still run, but I’ll deprecate it for 3.5 at
some point, probably when the Ubuntu and Mac OS X distributions have
it installed by default.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>Installing py3.5: <a href="http://www.jianshu.com/p/4f4b2ed568f4">http://www.jianshu.com/p/4f4b2ed568f4</a>&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
